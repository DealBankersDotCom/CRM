<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>DealBankers Login</title>

  <!-- Favicon (stops the /favicon.ico 404) -->
  <link rel="icon" type="image/jpeg" href="icon (1).jpg" />

  <style>
    :root{
      --bg1:#0f2027; --bg2:#203a43; --bg3:#2c5364;
      --card:#ffffff; --muted:#f1f1f1; --text:#111;
      --primary:#28a745; --primary-pressed:#1f8a39;
      --blue:#007bff; --blue-pressed:#0366d6;
      --border:#dcdcdc; --shadow:0 18px 40px rgba(0,0,0,.32);
    }
    *{box-sizing:border-box}
    body{
      margin:0; font-family: "Segoe UI", Arial, sans-serif;
      background: linear-gradient(to right, var(--bg1), var(--bg2), var(--bg3));
      min-height:100vh; display:flex; justify-content:center; align-items:center;
    }
    .frame{
      width:960px; max-width:92vw;
      background:rgba(255,255,255,.08);
      border-radius:22px; box-shadow: var(--shadow);
      padding:28px;
    }
    .main-box{
      display:flex; background: var(--card);
      border-radius:16px; overflow:hidden;
    }
    .logo-side{
      background: var(--muted);
      width:38%; min-width:260px;
      display:flex; align-items:center; justify-content:center;
      padding:26px;
    }
    .logo-side img{
      width:220px; height:auto; border-radius:12px; display:block;
      box-shadow: 0 10px 18px rgba(0,0,0,.18);
    }
    .login-side{
      flex:1; padding:36px 30px;
      display:flex; flex-direction:column; justify-content:center; gap:14px;
    }
    h2{margin:0 0 10px; text-align:center; color:var(--text); font-weight:800}
    .input{
      width:100%; padding:12px 14px; border:1px solid var(--border);
      border-radius:8px; font-size:16px; outline:none;
    }
    .btn{
      width:100%; padding:12px 14px; border:0; border-radius:8px;
      font-size:16px; cursor:pointer; transition:transform .02s ease, filter .15s ease;
    }
    .btn:active{transform:translateY(1px)}
    .btn-primary{background:var(--primary); color:#fff}
    .btn-primary:hover{filter:brightness(.98)}
    .btn-primary:active{background:var(--primary-pressed)}

    .google-btn{
      display:flex; align-items:center; justify-content:center;
      gap:10px; background:#fff; border:1px solid var(--border); color:#222;
    }
    .google-btn img{width:18px; height:18px}

    /* ROLE BUTTONS: one clean row on desktop */
    .roles{
      display:flex; gap:12px; margin-top:10px; justify-content:space-between;
      flex-wrap:nowrap;
    }
    .role{
      flex:1 1 0; text-align:center;
      background:var(--blue); color:#fff; border-radius:8px; padding:10px 0;
      font-size:15px; border:none; cursor:pointer;
    }
    .role:hover{filter:brightness(.98)}
    .role:active{background:var(--blue-pressed)}

    .helper{font-size:12px; color:#666; text-align:center}

    .toast{
      position:fixed; left:50%; transform:translateX(-50%);
      bottom:18px; background:#111; color:#fff; padding:10px 14px;
      border-radius:8px; box-shadow: var(--shadow); font-size:14px; display:none;
      z-index: 10;
    }

    @media (max-width: 860px){
      .frame{padding:18px}
      .main-box{flex-direction:column}
      .logo-side{display:none}
      .login-side{padding:26px 20px}
      /* stack roles on small screens */
      .roles{flex-wrap:wrap}
      .role{flex:1 1 calc(50% - 6px)}
    }
  </style>
</head>
<body>
  <div class="frame">
    <div class="main-box">
      <!-- LEFT: company image/logo -->
      <div class="logo-side">
        <img src="icon (1).jpg" alt="DealBankers Logo" />
      </div>

      <!-- RIGHT: login panel -->
      <div class="login-side">
        <h2>DealBankersDotCom Login</h2>

        <input id="email" class="input" type="email" placeholder="Email" autocomplete="username" />
        <input id="password" class="input" type="password" placeholder="Password" autocomplete="current-password" />

        <button id="emailLogin" class="btn btn-primary">Log In</button>

        <!-- Google button (single, clean) -->
        <button id="googleSignIn" class="btn google-btn" aria-label="Sign in with Google">
          <img src="https://developers.google.com/identity/images/g-logo.png" alt="" />
          <span>Sign in with Google</span>
        </button>

        <div class="roles">
          <button class="role" onclick="alert('Contractor portal coming soon')">Contractor</button>
          <button class="role" onclick="alert('Wholesaler portal coming soon')">Wholesaler</button>
          <button class="role" onclick="alert('Realtor portal coming soon')">Realtor</button>
          <button class="role" onclick="alert('Investor portal coming soon')">Investor</button>
        </div>

        <div class="helper">By continuing, you agree to our Terms &amp; Privacy Policy.</div>
      </div>
    </div>
  </div>

  <div id="toast" class="toast"></div>

  <!-- Firebase (compat for static hosting) -->
  <script src="https://www.gstatic.com/firebasejs/10.12.0/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/10.12.0/firebase-auth-compat.js"></script>
  <script>
    // Your Firebase config
    const firebaseConfig = {
      apiKey: "AIzaSyAoidTIHZZwOJ_FrXXMZd_hPAuoxDJJncs",
      authDomain: "deal-bankers.firebaseapp.com",
      databaseURL: "https://deal-bankers-default-rtdb.firebaseio.com",
      projectId: "deal-bankers",
      storageBucket: "deal-bankers.firebasestorage.app",
      messagingSenderId: "485110155601",
      appId: "1:485110155601:web:b4c38350ac58c1a2ecab70",
      measurementId: "G-KTNXZM14F7"
    };

    // Init
    firebase.initializeApp(firebaseConfig);
    const auth = firebase.auth();
    const provider = new firebase.auth.GoogleAuthProvider();

    function toast(msg){
      const el = document.getElementById('toast');
      if (!el) return alert(msg);
      el.textContent = msg;
      el.style.display = 'block';
      setTimeout(()=> el.style.display = 'none', 2400);
    }

    document.addEventListener('DOMContentLoaded', () => {
      const emailEl   = document.getElementById('email');
      const passEl    = document.getElementById('password');
      const emailBtn  = document.getElementById('emailLogin');
      const googleBtn = document.getElementById('googleSignIn');

      if (emailBtn) {
        emailBtn.addEventListener('click', async () => {
          const email = (emailEl?.value || '').trim();
          const password = passEl?.value || '';
          if (!email || !password) return toast('Enter email & password');
          try {
            const cred = await auth.signInWithEmailAndPassword(email, password);
            toast(`Welcome, ${cred.user.email}`);
            // TODO: route based on role; temporary:
            window.location.href = 'mitzi.html';
          } catch (e) {
            console.error(e); toast(e.message.replace('Firebase: ', ''));
          }
        });
      }

      if (googleBtn) {
        googleBtn.addEventListener('click', async () => {
          try {
            const res = await auth.signInWithPopup(provider);
            const u = res.user;
            toast(`Welcome, ${u.displayName || u.email}`);
            // TODO: route based on role; temporary:
            window.location.href = 'mitzi.html';
          } catch (e) {
            console.error(e); toast(e.message.replace('Firebase: ', ''));
          }
        });
      }
    });
  </script>
</body>
</html>
