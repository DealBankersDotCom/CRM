<!-- ===================== index.html (DealBankers — Secure Access) ===================== -->
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>DealBankers — Secure Access</title>
  <link rel="icon" type="image/jpeg" href="icon (1).jpg"/>

  <style>
    :root{
      --bg1:#0b131b; --bg2:#142838; --bg3:#173c53;
      --panel:#0f1f2b; --line:#254a63;
      --text:#eef6ff; --muted:#bcd1e6;
      --green:#21c079; --green2:#129e63;
      --gold:#ffcc6b; --blue:#50a8ff; --red:#f26161;
      --shadow:0 28px 70px rgba(0,0,0,.55);
      --r:16px;
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;color:var(--text);font-family:Inter,Segoe UI,system-ui,Roboto,Arial,sans-serif;
      background:
        radial-gradient(1200px 520px at 92% -12%, rgba(93,224,255,.16) 0%, transparent 60%),
        linear-gradient(135deg,var(--bg1),var(--bg2) 55%,var(--bg3));
      display:flex;align-items:center;justify-content:center;padding:22px;
    }

    .card{
      width:min(520px, 92vw);
      background:linear-gradient(180deg,rgba(255,255,255,.10),rgba(255,255,255,.04));
      border:1px solid rgba(255,255,255,.16);
      border-radius:22px; box-shadow:var(--shadow);
      padding:18px 18px 16px;
    }
    .logo{display:flex;align-items:center;justify-content:center;margin-top:-42px;margin-bottom:6px}
    .logo img{width:58px;height:58px;border-radius:14px;border:1px solid rgba(255,255,255,.3);box-shadow:0 8px 28px rgba(0,0,0,.45);background:#0a1620;object-fit:cover}

    .title{letter-spacing:.16em;text-align:center;margin:8px 0 12px;font-weight:900;color:#d9ecff}
    .topchips{display:flex;gap:10px;justify-content:center;margin:2px 0 10px}
    .chip{font-size:12px;padding:7px 10px;border-radius:999px;border:1px solid rgba(255,255,255,.22);background:#0e2433;color:#eaf6ff;cursor:pointer;text-decoration:none;user-select:none}
    .chip.gold{background:linear-gradient(180deg,var(--gold),#c89b3a);border:none;color:#231a06;font-weight:800}

    label{display:block;font-size:13px;color:var(--muted);margin:6px 2px}
    .input{width:100%;padding:12px 12px;border-radius:12px;border:1px solid rgba(255,255,255,.18);
      background:#0d2130;color:#eaf6ff;font-size:14px;outline:none}
    .input:focus{border-color:#69c1ff;box-shadow:0 0 0 3px rgba(80,168,255,.18)}

    .btn{width:100%;display:inline-flex;align-items:center;justify-content:center;gap:10px;
      padding:12px;border-radius:12px;border:1px solid rgba(255,255,255,.18);cursor:pointer;
      background:#0f2a3a;color:#eaf6ff;font-weight:800;min-height:44px}
    .btn:hover{filter:brightness(1.06)}
    .btn-primary{background:linear-gradient(180deg,var(--green),var(--green2));border:none}
    .btn-google{
      background:#fff;border:1px solid #dadce0;color:#1f2937;font-weight:700;
    }
    .btn-google .g{width:18px;height:18px;display:inline-block;background:
      url('https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg') no-repeat center/contain}
    .row{display:grid;grid-template-columns:1fr 1fr;gap:10px;margin-top:10px}
    @media (max-width:520px){ .row{grid-template-columns:1fr} }

    .footer{margin-top:14px;text-align:center;font-size:12px;color:#9fb6cf}
    .footer a{color:#bfe0ff;text-decoration:none}
    .linksRow{display:flex;gap:10px;justify-content:center;margin-top:8px;flex-wrap:wrap}

    .pill{display:inline-flex;align-items:center;justify-content:center;gap:8px;
      padding:10px 12px;border-radius:999px;border:1px solid rgba(255,255,255,.22);
      background:#0e2433;color:#eaf6ff;font-weight:800;min-height:40px;text-decoration:none}
    .pill:focus,.pill:hover{filter:brightness(1.08)}
    .pill.red{background:linear-gradient(180deg,#ff8a8a,var(--red));border:none}
    .pill.blue{background:linear-gradient(180deg,#7bc4ff,#2b88ff);border:none}

    .bar{display:flex;gap:10px;justify-content:center;margin:8px 0 12px}
  </style>
</head>
<body>
  <main class="card" role="main" aria-label="Login">
    <div class="logo" aria-hidden="true"><img src="icon (1).jpg" alt="DealBankers"/></div>
    <div class="title">DEALBANKERS LOGIN</div>

    <!-- quick nav pills -->
    <div class="bar" aria-label="Quick Navigation">
      <a class="chip" id="chipSales"    href="claims-exchange.html#sales">Sales</a>
      <a class="chip" id="chipSupport"  href="claims-exchange.html#support">Support</a>
      <a class="chip gold" id="chipClaims" href="claims-exchange.html">Claims Exchange</a>
    </div>

    <label for="email">Email</label>
    <input id="email" class="input" type="email" autocomplete="username" placeholder="Email"/>

    <label for="password">Password</label>
    <input id="password" class="input" type="password" autocomplete="current-password" placeholder="Password"/>

    <button id="btnLogin" class="btn btn-primary" style="margin-top:10px">Sign In</button>
    <button id="btnGoogle" class="btn btn-google" style="margin-top:10px"><span class="g" aria-hidden="true"></span> Sign in with Google</button>

    <div class="row">
      <button class="pill" id="goWh">Wholesaler</button>
      <button class="pill" id="goCt">Contractor</button>
      <button class="pill" id="goInv">Investor</button>
      <button class="pill" id="goRe">Realtor</button>
    </div>

    <div class="linksRow">
      <a class="pill" href="claims-exchange.html">Claims Exchange</a>
      <a class="pill red"  href="claims-exchange.html#urgent">☎ Urgent Intake</a>
    </div>

    <div class="footer">
      Operational • Confidential. Authenticated users only. Activity monitored.
      <div style="margin-top:6px">
        <a href="https://docs.google.com/document/d/1wVeXyU4vTndZpSNYjBioJnINzEFvLWFuD6zeZFw4V_g/preview" target="_blank" rel="noopener">Privacy &amp; Terms</a>
      </div>
    </div>
  </main>

  <!-- Firebase compat (same series used across the CRM) -->
  <script src="https://www.gstatic.com/firebasejs/10.12.0/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/10.12.0/firebase-auth-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/10.12.0/firebase-database-compat.js"></script>

  <!-- Your shared project config (existing in repo). Must expose window.firebaseConfig -->
  <script src="config.js"></script>
  <!-- Shared helpers (role routing etc.) if present in your repo -->
  <script src="app-auth.js"></script>

  <script>
    // ---------- Bootstrap Firebase ----------
    (function(){
      if(!window.firebase?.apps?.length){
        try{ firebase.initializeApp(window.firebaseConfig || {}); }
        catch(e){ console.warn('Firebase init failed:', e); }
      }
    })();

    const auth = firebase.auth();
    const db   = firebase.database();

    // ---------- Helpers ----------
    const $ = s => document.querySelector(s);
    function go(url){ location.href = url; }
    function toast(msg){ alert(msg); } // simple for login page

    // ---------- Login handlers ----------
    async function emailLogin(){
      const email = $('#email').value.trim();
      const pass  = $('#password').value;
      if(!email || !pass) return toast('Enter email and password.');
      try{
        await auth.signInWithEmailAndPassword(email, pass);
        go('profile.html');
      }catch(err){
        if(err.code === 'auth/user-not-found'){ return toast('No account for that email.'); }
        if(err.code === 'auth/wrong-password'){ return toast('Wrong password.'); }
        toast('Sign-in error: '+(err.message||err.code));
      }
    }

    async function googleLogin(){
      try{
        const provider = new firebase.auth.GoogleAuthProvider();
        await auth.signInWithPopup(provider);
        go('profile.html');
      }catch(err){
        toast('Google sign-in error: '+(err.message||err.code));
      }
    }

    // ---------- Wire UI ----------
    $('#btnLogin').addEventListener('click', emailLogin);
    $('#btnGoogle').addEventListener('click', googleLogin);
    document.addEventListener('keydown', (e)=>{
      if(e.key==='Enter'){ emailLogin(); }
    });

    // Portal shortcuts (require auth; if not signed in, the auth guard on profile will redirect back)
    $('#goWh').onclick = ()=>go('profile.html?tab=wholesaler');
    $('#goCt').onclick = ()=>go('profile.html?tab=contractor');
    $('#goInv').onclick= ()=>go('profile.html?tab=overview'); // adjust if you have an investor tab
    $('#goRe').onclick = ()=>go('profile.html?tab=realtor');  // realtor tab restored

    // Optional: auto-redirect if already signed in
    auth.onAuthStateChanged(u=>{
      if(u){ /* already logged in */ }
    });

    // ---------- Top badges optional deep-links ----------
    // If you later wire real support/sales forms, swap these hrefs in the markup.
  </script>
</body>
</html>
