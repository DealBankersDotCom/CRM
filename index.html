<!DOCTYPE html><html lang="en"><head>
<meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>DealBankers — Secure Access</title>
<link rel="icon" type="image/jpeg" href="icon (1).jpg"/>
<link rel="preconnect" href="https://fonts.googleapis.com"/><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin/>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&display=swap" rel="stylesheet"/>
<style>
:root{--bg:#0b0f14;--panel:#10151d;--ink:#d6e1ff;--muted:#8aa0c6;--line:#1c2a3a;--accent:#00d1ff;--glow:0 0 16px rgba(0,209,255,.25),0 0 2px rgba(0,209,255,.6)}
*{box-sizing:border-box}html,body{height:100%}body{margin:0;font-family:Inter,system-ui,Segoe UI,Roboto,Arial;color:var(--ink);
background:radial-gradient(1000px 700px at 70% 10%,#122034 0%,transparent 60%),var(--bg);display:grid;place-items:center}
.card{width:min(560px,92vw);background:linear-gradient(180deg,rgba(255,255,255,.03),rgba(255,255,255,0));border:1px solid var(--line);
border-radius:20px;padding:28px;box-shadow:0 12px 40px rgba(0,0,0,.35)}
.row{display:flex;gap:18px;align-items:center}.logo{width:60px;height:60px;border-radius:14px;object-fit:cover;box-shadow:0 6px 20px rgba(0,0,0,.35)}
h1{margin:0;font-size:28px}p{margin:6px 0 0;color:var(--muted)}.panel{margin-top:22px;padding:16px;border:1px solid var(--line);border-radius:14px}
.gbtn{display:inline-flex;align-items:center;justify-content:center;gap:10px;width:100%;height:44px;border-radius:12px;border:1px solid #747775;
background:#1f1f1f;color:#e8eaed;font-weight:600;cursor:pointer;box-shadow:0 1px 2px rgba(0,0,0,.3),0 1px 3px rgba(0,0,0,.15);
transition:transform .05s,box-shadow .2s}.gbtn:hover{box-shadow:var(--glow);transform:translateY(-1px)}
.g-icon{width:18px;height:18px}.status{margin-top:12px;font-size:12px;color:var(--muted)}.hr{margin:16px 0;border:0;border-top:1px solid var(--line)}
.tiny{font-size:11px;color:var(--muted)}.spinner{display:inline-block;width:14px;height:14px;border:2px solid #3b4a62;border-top-color:var(--accent);border-radius:50%;animation:spin .7s linear infinite}@keyframes spin{to{transform:rotate(360deg)}}
</style>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-auth-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-database-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/10.12.0/firebase-storage-compat.js"></script>
<script src="config.js"></script><script src="app-auth.js"></script></head><body>
<main class="card">
  <div class="row">
    <img class="logo" src="icon (1).jpg" alt="DB"/>
    <div><h1>DealBankers — Secure Access</h1><p>Sign in to continue to your portal.</p></div>
  </div>
  <div class="panel">
    <button id="googleBtn" class="gbtn">
      <svg class="g-icon" viewBox="0 0 48 48" aria-hidden="true">
        <path fill="#EA4335" d="M24 9.5c3.54 0 6.79 1.22 9.32 3.6l6.98-6.98C36.89 2.17 30.87 0 24 0 14.62 0 6.51 5.38 2.56 13.22l8.41 6.52C12.66 13.6 17.9 9.5 24 9.5z"/>
        <path fill="#4285F4" d="M46.5 24c0-1.64-.15-3.21-.43-4.74H24v9h12.7c-.55 2.98-2.23 5.52-4.75 7.22l7.23 5.61C43.89 37.17 46.5 31.07 46.5 24z"/>
        <path fill="#FBBC05" d="M11 28.74a14.5 14.5 0 0 1-.77-4.74c0-1.64.28-3.22.77-4.74l-8.44-6.55A23.94 23.94 0 0 0 0 24c0 3.85.92 7.48 2.56 10.74L11 28.74z"/>
        <path fill="#34A853" d="M24 48c6.48 0 11.93-2.14 15.9-5.83l-7.23-5.61c-2.01 1.35-4.6 2.14-8.67 2.14-6.1 0-11.34-4.1-13.02-9.94l-8.41 6.52C6.51 42.62 14.62 48 24 48z"/>
      </svg> Continue with Google
    </button>
    <div class="status" id="authStatus"><span class="spinner"></span> Waiting for sign-in…</div>
    <hr class="hr"/><div class="tiny">Status: <span data-auth-status>signed out</span></div>
  </div>
  <div class="tiny" style="margin-top:10px">If pop‑ups are blocked we’ll fall back to redirect sign-in.</div>
</main>
<script>
(function(){
  const btn=document.getElementById('googleBtn'), statusEl=document.getElementById('authStatus');
  function setStatus(s,spin){ statusEl.innerHTML = spin?('<span class="spinner"></span> '+s):s; }
  btn.addEventListener('click', async ()=>{
    try{
      setStatus('Opening Google sign‑in…',true);
      const p=new firebase.auth.GoogleAuthProvider();
      await firebase.auth().setPersistence(firebase.auth.Auth.Persistence.LOCAL);
      await firebase.auth().signInWithPopup(p);
    }catch(e){
      if(e?.code==='auth/popup-blocked'){ setStatus('Pop-up blocked → redirect…',true); const p=new firebase.auth.GoogleAuthProvider(); return firebase.auth().signInWithRedirect(p); }
      console.error(e); setStatus('Sign-in failed. Try again.');
    }
  });
})();
</script>
</body></html>
