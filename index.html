<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>DealBankers Login</title>

  <!-- Favicon -->
  <link rel="icon" type="image/jpeg" href="icon (1).jpg" />

  <style>
    :root{
      --bg1:#0f2027; --bg2:#203a43; --bg3:#2c5364;
      --card:#ffffff; --muted:#f1f1f1; --text:#111;
      --primary:#28a745; --primary-pressed:#1f8a39;
      --blue:#007bff; --blue-pressed:#0366d6;
      --border:#dcdcdc; --shadow:0 10px 30px rgba(0,0,0,.30);
    }
    *{box-sizing:border-box}
    body{
      margin:0; padding:0; font-family: "Segoe UI", Arial, sans-serif;
      background: linear-gradient(to right, var(--bg1), var(--bg2), var(--bg3));
      min-height:100vh; display:flex; justify-content:center; align-items:center;
    }
    .frame{
      width:920px; max-width:92vw;
      background:rgba(255,255,255,.08);
      border-radius:20px; box-shadow: var(--shadow);
      padding:28px;
    }
    .main-box{
      display:flex; background: var(--card);
      border-radius:16px; overflow:hidden;
    }
    .logo-side{
      background: var(--muted);
      width:38%; min-width:260px;
      display:flex; align-items:center; justify-content:center;
      padding:26px;
    }
    .logo-side img{
      width:220px; height:auto; border-radius:12px; display:block;
    }
    .login-side{
      flex:1; padding:36px 30px;
      display:flex; flex-direction:column; justify-content:center; gap:14px;
    }
    h2{margin:0 0 6px; text-align:center; color:var(--text); font-weight:700}
    .input{
      width:100%; padding:12px 14px; border:1px solid var(--border);
      border-radius:8px; font-size:16px; outline:none;
    }
    .btn{
      width:100%; padding:12px 14px; border:0; border-radius:8px;
      font-size:16px; cursor:pointer;
      transition:transform .02s ease, filter .15s ease;
    }
    .btn:active{transform:translateY(1px)}
    .btn-primary{background:var(--primary); color:#fff}
    .btn-primary:hover{filter:brightness(.98)}
    .btn-primary:active{background:var(--primary-pressed)}
    .google-btn{
      display:flex; align-items:center; justify-content:center;
      gap:10px; background:#fff; border:1px solid var(--border); color:#222;
    }
    .google-btn img{width:18px; height:18px}
    .roles{
      display:flex; gap:10px; margin-top:8px; flex-wrap:wrap; justify-content:center;
    }
    .role{
      flex:1; min-width:120px; max-width:160px;
      background:var(--blue); color:#fff; border-radius:8px; padding:10px;
    }
    .role:hover{filter:brightness(.98)}
    .role:active{background:var(--blue-pressed)}
    .helper{font-size:12px; color:#666; text-align:center}
    .toast{
      position:fixed; left:50%; transform:translateX(-50%);
      bottom:18px; background:#111; color:#fff; padding:10px 14px;
      border-radius:8px; box-shadow: var(--shadow); font-size:14px; display:none;
    }

    @media (max-width: 820px){
      .frame{padding:18px}
      .main-box{flex-direction:column}
      .logo-side{display:none}
      .login-side{padding:26px 20px}
    }
  </style>
</head>
<body>

  <div class="frame">
    <div class="main-box">
      <!-- LEFT: company image/logo -->
      <div class="logo-side">
        <img src="icon (1).jpg" alt="DealBankers Logo" />
      </div>

      <!-- RIGHT: login panel -->
      <div class="login-side">
        <h2>DealBankersDotCom Login</h2>

        <input id="email" class="input" type="email" placeholder="Email" autocomplete="username" />
        <input id="password" class="input" type="password" placeholder="Password" autocomplete="current-password" />

        <button id="emailLogin" class="btn btn-primary">Log In</button>

        <!-- Single, clean Google button -->
        <button id="googleSignIn" class="btn google-btn" aria-label="Sign in with Google">
          <img src="https://developers.google.com/identity/images/g-logo.png" alt="" />
          <span>Sign in with Google</span>
        </button>

        <div class="roles">
          <button class="role" onclick="alert('Contractor portal coming soon')">Contractor</button>
          <button class="role" onclick="alert('Wholesaler portal coming soon')">Wholesaler</button>
          <button class="role" onclick="alert('Realtor portal coming soon')">Realtor</button>
          <button class="role" onclick="alert('Investor portal coming soon')">Investor</button>
        </div>

        <div class="helper">By continuing, you agree to our Terms & Privacy Policy.</div>
      </div>
    </div>
  </div>

  <div id="toast" class="toast"></div>

  <!-- Firebase (CDN, modular SDK) -->
  <script type="module">
    // Firebase SDKs
    import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.0/firebase-app.js";
    import { 
      getAuth, 
      signInWithEmailAndPassword, 
      GoogleAuthProvider, 
      signInWithPopup 
    } from "https://www.gstatic.com/firebasejs/10.12.0/firebase-auth.js";

    // === YOUR CONFIG (from your message) ===
    const firebaseConfig = {
      apiKey: "AIzaSyAoidTIHZZwOJ_FrXXMZd_hPAuoxDJJncs",
      authDomain: "deal-bankers.firebaseapp.com",
      databaseURL: "https://deal-bankers-default-rtdb.firebaseio.com",
      projectId: "deal-bankers",
      storageBucket: "deal-bankers.firebasestorage.app",
      messagingSenderId: "485110155601",
      appId: "1:485110155601:web:b4c38350ac58c1a2ecab70",
      measurementId: "G-KTNXZM14F7"
    };

    // Init
    const app = initializeApp(firebaseConfig);
    const auth = getAuth(app);
    const provider = new GoogleAuthProvider();

    // UI hooks
    const emailEl = document.getElementById('email');
    const passEl = document.getElementById('password');
    const emailBtn = document.getElementById('emailLogin');
    const googleBtn = document.getElementById('googleSignIn');
    const toastEl = document.getElementById('toast');

    function toast(msg){
      toastEl.textContent = msg;
      toastEl.style.display = 'block';
      setTimeout(()=> toastEl.style.display = 'none', 2400);
    }

    // Email / Password sign in
    emailBtn.addEventListener('click', async () => {
      const email = emailEl.value.trim();
      const password = passEl.value;
      if(!email || !password){ toast('Enter email & password'); return; }

      try{
        const cred = await signInWithEmailAndPassword(auth, email, password);
        // TODO: redirect based on role/profile
        toast(`Welcome, ${cred.user.email}`);
        window.location.href = "mitzi.html"; // temporary target
      }catch(err){
        console.error(err);
        toast(err.message.replace('Firebase: ', ''));
      }
    });

    // Google sign in
    googleBtn.addEventListener('click', async () => {
      try{
        const result = await signInWithPopup(auth, provider);
        const user = result.user;
        // TODO: redirect based on role/profile
        toast(`Welcome, ${user.displayName || user.email}`);
        window.location.href = "mitzi.html"; // temporary target
      }catch(err){
        console.error(err);
        toast(err.message.replace('Firebase: ', ''));
      }
    });
  </script>
</body>
</html>
