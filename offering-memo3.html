<!-- =================== deal-memo-san-luis.html =================== -->
<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>Deal Memorandum – 4319 San Luis St (Wholesale)</title>
<link rel="icon" type="image/jpeg" href="icon (1).jpg"/>
<style>
  :root{--bg:#0f1720;--panel:#0f1a24;--line:#1e3142;--text:#eaf1f6;--muted:#9fb3c7;--accent:#2b74ff;--green:#28a745;--warn:#ffc857}
  body{margin:0;font-family:system-ui,-apple-system,Segoe UI,Inter,Roboto,Arial,sans-serif;color:var(--text);
    background:radial-gradient(900px 500px at 85% -10%, #123043 0%, transparent 60%),linear-gradient(135deg,#0b1117,#0f1a24 55%,#10283a)}
  .wrap{max-width:1100px;margin:0 auto;padding:24px 16px}
  header{display:flex;align-items:center;justify-content:space-between;gap:12px;padding:14px 16px;background:rgba(255,255,255,.04);
    border:1px solid var(--line);border-radius:18px}
  .brand{display:flex;gap:12px;align-items:center}
  .brand img{width:44px;height:44px;border-radius:12px;object-fit:cover}
  .brand h1{margin:0;font-size:18px;letter-spacing:.06em}
  .sub{color:var(--muted);font-size:13px}
  .grid{display:grid;gap:16px;grid-template-columns:1.15fr .85fr;margin-top:16px}
  @media (max-width:960px){.grid{grid-template-columns:1fr}}
  .card{background:linear-gradient(180deg,rgba(255,255,255,.06),rgba(255,255,255,.03));border:1px solid var(--line);border-radius:18px;padding:16px}
  h2{margin:0 0 10px}
  .kvs{display:grid;grid-template-columns:1fr 1fr;gap:12px}
  .kv{background:#0e2231;border:1px solid #1b3446;border-radius:12px;padding:12px}
  .kv .lab{color:#b8cadd;font-size:12px;text-transform:uppercase;letter-spacing:.08em}
  .kv .val{font-weight:800;margin-top:4px}
  .list{margin:8px 0 0 18px;color:#d7e6f5}

  .controls{display:flex;gap:8px;flex-wrap:wrap;margin:12px 0}
  .btn{display:inline-flex;align-items:center;justify-content:center;padding:8px 12px;border-radius:10px;border:1px solid var(--line);
       background:#0f1a24;color:#d9e9f8;text-decoration:none;cursor:pointer}
  .btn-accent{background:linear-gradient(180deg,var(--accent),#0a58ca);color:#fff;border:none}
  .btn-green{background:linear-gradient(180deg,var(--green),#177a33);color:#fff;border:none}
  .input{width:100%;padding:10px 12px;border-radius:10px;border:1px solid var(--line);background:#0f1a24;color:#eaf1f6}

  .carousel{position:relative;width:100%;height:300px;overflow:hidden;border-radius:12px;margin-top:12px;background:#0b141b}
  .carousel img{width:100%;height:300px;object-fit:cover;position:absolute;top:0;left:0;opacity:0;transition:opacity .6s}
  .carousel img.active{opacity:1}
  .carBtns{position:absolute;inset:auto 0 8px 0;display:flex;justify-content:center;gap:8px}
  .carBtn{border:1px solid var(--line);background:#0f1a24;border-radius:999px;padding:6px 10px;color:#eaf1f6}

  .desk{display:inline-flex}
  @media (max-width:960px){ .desk{display:none} }

  dialog{border:none;border-radius:16px;background:#0f1a24;color:#eaf1f6;padding:14px;max-width:740px;width:92%}
  .thumbs{display:grid;grid-template-columns:repeat(6,1fr);gap:8px;margin-top:10px}
  .thumb{position:relative}
  .thumb img{width:100%;aspect-ratio:1/1;object-fit:cover;border-radius:8px}
  .thumb button{position:absolute;top:6px;right:6px;border:1px solid var(--line);background:#0b1218;border-radius:8px;color:#fff;padding:2px 6px;cursor:pointer}

  .disclaimer{border:1px dashed #3a506b;background:#0e1b27;padding:12px;border-radius:12px;color:#d7e6f5}
  .tag{display:inline-block;background:#1e2f41;border:1px solid #334b63;color:#cfe3f7;padding:3px 8px;border-radius:999px;font-size:12px}
</style>
</head>
<body>
<div class="wrap">
  <header>
    <div class="brand">
      <img src="icon (1).jpg" alt="DealBankers"/>
      <div>
        <h1>Deal Memorandum — 4319 San Luis St (Wholesale)</h1>
        <div class="sub">San Antonio, TX 78237 • Price: <b>$65,000</b> • RM-4 • Lot 9,975 sqft • Small structure (2003)</div>
      </div>
    </div>
    <div class="controls desk">
      <button id="btnAdd"  class="btn btn-green">＋ Add Photos</button>
      <button id="btnEdit" class="btn">✎ Edit Photos</button>
    </div>
  </header>

  <section class="grid">
    <div class="card">
      <h2>Property Snapshot</h2>
      <div class="kvs" style="margin-bottom:10px">
        <div class="kv"><div class="lab">Address</div><div class="val">4319 San Luis St, San Antonio, TX 78237</div></div>
        <div class="kv"><div class="lab">Asking</div><div class="val">$65,000</div></div>
        <div class="kv"><div class="lab">Zoning</div><div class="val">RM-4 (SF, duplex, more per code)</div></div>
        <div class="kv"><div class="lab">Lot Size</div><div class="val">~0.22 ac (9,975 sqft)</div></div>
      </div>

      <h3 style="margin:8px 0 6px">Facts & Notes</h3>
      <ul class="list">
        <li>Small structure on site; year built <b>2003</b>.</li>
        <li><b>Water</b> utilities present.</li>
        <li>Electric meter/pedestal set up but <b>not fully completed</b>.</li>
        <li>Zoned <b>RM-4</b> — allows single-family, duplexes, and additional uses per City of San Antonio code.</li>
      </ul>

      <div class="controls" style="margin-top:10px">
        <a class="btn" target="_blank" rel="noopener"
           href="https://www.google.com/maps/place/4319+San+Luis+St,+San+Antonio,+TX+78237">Open in Google Maps</a>
        <span class="tag">Wholesale Deal</span>
      </div>

      <!-- carousel -->
      <div class="carousel" id="carousel"></div>
    </div>

    <div class="card">
      <h2>Buyer Interest</h2>
      <p class="sub">Submit your info to request access instructions and assignment contract.</p>
      <form id="interestForm">
        <input class="input" id="name" placeholder="Full name" required/><br/><br/>
        <input class="input" id="email" type="email" placeholder="Email" required/><br/><br/>
        <input class="input" id="phone" placeholder="Phone (optional)"/><br/><br/>
        <button class="btn btn-accent" type="submit">I'm Interested</button>
      </form>
      <div id="ok" style="display:none;margin-top:8px;color:#bfe9c9">Thanks — we’ll follow up quickly.</div>

      <h3 style="margin:16px 0 6px">Wholesale Disclosures</h3>
      <div class="disclaimer">
        <ul class="list">
          <li>We are selling our <b>equitable interest</b> via assignment; we are not the owner of record.</li>
          <li>Property sold <b>as-is, where-is</b>. Buyer to verify all facts, zoning, and measurements.</li>
          <li>Price is <b>net to seller</b>; buyer pays all customary closing costs.</li>
          <li><b>Non-refundable EMD</b> required to secure; close with our preferred title company.</li>
          <li>Do not disturb occupants; <b>appointments required</b>. No marketing without written consent.</li>
        </ul>
      </div>
    </div>
  </section>
</div>

<!-- Manage Photos dialog (desktop only) -->
<dialog id="mgr">
  <h3 style="margin:0 0 8px">Manage Photos</h3>
  <div style="display:grid;gap:8px">
    <label>Photo URLs (comma separated)
      <textarea id="urlInput" class="input" rows="3" placeholder="https://...jpg, https://...png"></textarea>
    </label>
    <label>Upload Photos
      <input id="fileInput" type="file" accept="image/*" multiple style="display:block;margin-top:8px"/>
    </label>
  </div>
  <div class="thumbs" id="thumbs"></div>
  <div style="display:flex;gap:8px;justify-content:flex-end;margin-top:10px">
    <button id="clearAll" class="btn">Clear All</button>
    <button id="savePhotos" class="btn btn-green">Save</button>
    <button id="closeMgr" class="btn">Close</button>
  </div>
</dialog>

<script>
  /* ----- photo source (localStorage first, then defaults) ----- */
  const KEY = 'db_memo_photos_' + location.pathname.replace(/[^\w]+/g,'-');

  // Point these at your repo images folder (see steps below).
  const defaultImgs = [
    'https://placehold.co/1200x800?text=Upload+San+Luis+Photos',
    'images/deals/san-luis-st/front-1.jpg',
    'images/deals/san-luis-st/front-2.jpg',
    'images/deals/san-luis-st/lot-plat.jpg',
    'images/deals/san-luis-st/streetview.jpg',
    'images/deals/san-luis-st/zoning-map.png'
  ];

  function loadPhotos(){
    try{ const x=JSON.parse(localStorage.getItem(KEY)||'[]'); if(Array.isArray(x)&&x.length) return x; }catch{}
    return defaultImgs;
  }
  function savePhotos(arr){ localStorage.setItem(KEY, JSON.stringify(arr||[])); }

  /* ----- carousel render ----- */
  let carIdx=0, carTimer=null, running=true;
  const car = document.getElementById('carousel');

  function renderCarousel(){
    const photos = loadPhotos();
    car.innerHTML='';
    photos.forEach((src,i)=>{
      const img=new Image(); img.src=src; img.alt='photo '+(i+1); if(i===0) img.className='active';
      car.appendChild(img);
    });
    addCarControls();
    startCarousel();
  }
  function addCarControls(){
    const ctr=document.createElement('div'); ctr.className='carBtns';
    const prev=document.createElement('button'); prev.className='carBtn'; prev.textContent='◀';
    const pause=document.createElement('button'); pause.className='carBtn'; pause.textContent='⏯';
    const next=document.createElement('button'); next.className='carBtn'; next.textContent='▶';
    ctr.append(prev,pause,next); car.appendChild(ctr);
    prev.onclick=()=>{ running=false; setSlide(-1); };
    next.onclick=()=>{ running=false; setSlide(+1); };
    pause.onclick=()=>{ running=!running; if(running) startCarousel(); else stopCarousel(); };
  }
  function setSlide(d){
    const imgs=[...car.querySelectorAll('img')]; if(!imgs.length) return;
    imgs[carIdx]?.classList.remove('active');
    carIdx=(carIdx+d+imgs.length)%imgs.length;
    imgs[carIdx]?.classList.add('active');
  }
  function startCarousel(){ stopCarousel(); carTimer=setInterval(()=>{ if(running) setSlide(+1); },3500); }
  function stopCarousel(){ if(carTimer){ clearInterval(carTimer); carTimer=null; } }

  /* ----- simple interest form ack ----- */
  document.querySelector('#interestForm').addEventListener('submit',e=>{
    e.preventDefault(); document.querySelector('#ok').style.display='block'; e.target.reset();
  });

  /* ----- photo manager (desktop only) ----- */
  const mgr=document.getElementById('mgr'), urlInput=document.getElementById('urlInput'),
        fileInput=document.getElementById('fileInput'), thumbs=document.getElementById('thumbs');

  function openMgr(){
    const arr=loadPhotos();
    urlInput.value = arr.filter(u=>!/^data:/.test(u)).join(', ');
    drawThumbs(arr); mgr.showModal();
  }
  function drawThumbs(arr){
    thumbs.innerHTML='';
    arr.forEach((src,i)=>{
      const t=document.createElement('div'); t.className='thumb';
      t.innerHTML = `<img src="${src}"/><button data-i="${i}">✕</button>`;
      thumbs.appendChild(t);
    });
    thumbs.querySelectorAll('button').forEach(b=>{
      b.onclick=()=>{ const i=+b.dataset.i; const cur=loadPhotos(); cur.splice(i,1); savePhotos(cur); drawThumbs(cur); renderCarousel(); };
    });
  }
  async function gatherUploads(files){
    const list=[];
    for(const f of files){
      const data=await new Promise(res=>{ const r=new FileReader(); r.onload=()=>res(r.result); r.readAsDataURL(f); });
      list.push(data);
    }
    return list;
  }

  document.getElementById('btnAdd').onclick = openMgr;
  document.getElementById('btnEdit').onclick = openMgr;
  document.getElementById('closeMgr').onclick = ()=>mgr.close();
  document.getElementById('clearAll').onclick = ()=>{ savePhotos([]); drawThumbs([]); renderCarousel(); };
  document.getElementById('savePhotos').onclick = async ()=>{
    const urls=urlInput.value.split(',').map(s=>s.trim()).filter(Boolean);
    const uploads=await gatherUploads(fileInput.files||[]);
    const final=[...urls,...uploads];
    savePhotos(final); drawThumbs(final); renderCarousel(); mgr.close();
    fileInput.value=''; urlInput.value='';
  };

  renderCarousel();
</script>
</body>
</html>
