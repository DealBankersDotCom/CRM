<!-- ===================== profile.html (DealBankers — User Portal) ===================== -->
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <title>DealBankers • Profile</title>
  <link rel="icon" type="image/jpeg" href="icon (1).jpg"/>
  <link rel="stylesheet" href="styles.css"/>

  <style>
    body{
      margin:0;background:#0b131b;color:#eef6ff;
      font-family:Inter,Segoe UI,system-ui,Roboto,Arial,sans-serif;
    }
    .nav{display:flex;justify-content:space-between;align-items:center;
      padding:12px 18px;background:#111d29;border-bottom:1px solid rgba(255,255,255,.15)}
    .nav .logo{display:flex;align-items:center;gap:8px;font-weight:900;letter-spacing:.06em}
    .nav .logo img{width:32px;height:32px;border-radius:8px}
    .nav .actions{display:flex;gap:10px;align-items:center}
    .btn{padding:8px 14px;border-radius:999px;border:1px solid rgba(255,255,255,.18);
      background:#0d2130;color:#eaf6ff;font-weight:600;cursor:pointer;text-decoration:none}
    .btn.gold{background:linear-gradient(180deg,#ffcc6b,#c89b3a);color:#231a06;font-weight:800;border:none}
    .btn.red{background:linear-gradient(180deg,#ff8a8a,#f26161);color:#fff;border:none}
    .btn.blue{background:linear-gradient(180deg,#7bc4ff,#2b88ff);color:#fff;border:none}
    .btn:hover{filter:brightness(1.08)}
    .tabs{display:flex;gap:14px;padding:14px 18px;border-bottom:1px solid rgba(255,255,255,.1)}
    .tabs button{background:none;border:none;color:#bcd1e6;cursor:pointer;font-weight:600;font-size:14px}
    .tabs button.active{color:#fff;border-bottom:2px solid #50a8ff}
    .panel{padding:18px}
  </style>
</head>
<body>
  <div class="nav">
    <div class="logo">
      <img src="icon (1).jpg" alt="DB"/>
      DEALBANKERS • PROFILE
    </div>
    <div class="actions">
      <a href="claims-exchange.html" class="btn gold">Claims Exchange</a>
      <button class="btn red" id="btnRed">☎ Sales</button>
      <button class="btn blue" id="btnBlue">☎ Support</button>
      <button class="btn" id="btnLogout">Log Out</button>
    </div>
  </div>

  <div class="tabs">
    <button data-tab="overview" class="active">Overview</button>
    <button data-tab="wholesaler">Wholesaler</button>
    <button data-tab="contractor">Contractor</button>
    <button data-tab="realtor">Realtor</button>
    <button data-tab="settings">Settings</button>
  </div>

  <div id="tabContent" class="panel">
    Loading…
  </div>

  <!-- Firebase compat -->
  <script src="https://www.gstatic.com/firebasejs/10.12.0/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/10.12.0/firebase-auth-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/10.12.0/firebase-database-compat.js"></script>
  <script src="config.js"></script>
  <script src="app-auth.js"></script>

  <script>
    const auth=firebase.auth();
    const db=firebase.database();
    const $=s=>document.querySelector(s);
    const content=$('#tabContent');

    // ---------- auth guard ----------
    auth.onAuthStateChanged(u=>{
      if(!u) location.href='index.html';
      else{ loadTab('overview'); }
    });

    // ---------- tabs ----------
    document.querySelectorAll('.tabs button').forEach(btn=>{
      btn.addEventListener('click',()=>{
        document.querySelectorAll('.tabs button').forEach(b=>b.classList.remove('active'));
        btn.classList.add('active');
        loadTab(btn.dataset.tab);
      });
    });

    function loadTab(tab){
      if(tab==='overview'){
        content.innerHTML=`<h2>Overview</h2>
          <p>Capital Open: <b>$300k</b> | Turn: <b>7–10 days</b></p>
          <p>Townhall chat and announcements appear here.</p>`;
      }
      else if(tab==='wholesaler'){
        content.innerHTML=`<h2>Wholesaler Console</h2>
          <button class="btn gold" onclick="newDeal('deal')">+ New Deal</button>
          <button class="btn gold" onclick="newDeal('offering')">+ New Offering</button>
          <div id="whList">Loading deals…</div>`;
      }
      else if(tab==='contractor'){
        content.innerHTML=`<h2>Contractor Jobs</h2>
          <form onsubmit="postJob(event)">
            <input placeholder="Job Title"/><br/>
            <input placeholder="Location"/><br/>
            <input placeholder="Budget"/><br/>
            <textarea placeholder="Scope"></textarea><br/>
            <button class="btn gold">Post Job</button>
          </form>
          <div id="ctList">Loading jobs…</div>`;
      }
      else if(tab==='realtor'){
        content.innerHTML=`<h2>Realtor Portal</h2><p>Coming soon.</p>`;
      }
      else if(tab==='settings'){
        content.innerHTML=`<h2>Settings</h2>
          <p>User role management & branding here.</p>`;
      }
    }

    // ---------- stub handlers ----------
    function newDeal(type){
      const t=prompt("Enter "+type+" title");
      if(t){
        alert(type+" '"+t+"' saved (demo).");
      }
    }
    function postJob(e){ e.preventDefault(); alert('Job posted (demo).'); }

    // ---------- support buttons ----------
    $('#btnRed').onclick=()=>alert('Immediate Sales Intake form (demo)');
    $('#btnBlue').onclick=()=>alert('Support form (demo)');
    $('#btnLogout').onclick=()=>auth.signOut().then(()=>location.href='index.html');
  </script>
</body>
</html>
